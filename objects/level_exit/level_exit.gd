extends Actor
class_name LevelExit

# ------------------------------------------------------------------------------
# Signals
# ------------------------------------------------------------------------------
signal level_exit_requested(src)
signal final_exit_requested()

# ------------------------------------------------------------------------------
# Constants and ENUMs
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Export Variables
# ------------------------------------------------------------------------------
@export_category("Level Exit")
@export_file() var level_src : String = ""

# ------------------------------------------------------------------------------
# Variables
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------
@onready var _sprite: Sprite2D = $Sprite2D


# ------------------------------------------------------------------------------
# Setters / Getters
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Override Methods
# ------------------------------------------------------------------------------
func _ready() -> void:
	if not Engine.is_editor_hint():
		_sprite.queue_free()

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Public Methods
# ------------------------------------------------------------------------------
func use() -> void:
	if not level_src.is_empty():
		level_exit_requested.emit(level_src)
	else:
		final_exit_requested.emit()

# ------------------------------------------------------------------------------
# Handler Methods
# ------------------------------------------------------------------------------



