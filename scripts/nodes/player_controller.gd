extends Node
class_name PlayerController

# ------------------------------------------------------------------------------
# Signals
# ------------------------------------------------------------------------------
const PLAYER_GROUP : StringName = &"Player"

# ------------------------------------------------------------------------------
# Constants and ENUMs
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Export Variables
# ------------------------------------------------------------------------------
@export_category("Player Controller")


# ------------------------------------------------------------------------------
# Variables
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Setters / Getters
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Override Methods
# ------------------------------------------------------------------------------
func _unhandled_input(event: InputEvent) -> void:
	var actor : Actor = _GetPlayerActor()
	if actor == null: return
	
	if event.is_action_pressed("up"):
		actor.move(Actor.DIRECTION.North)
	elif event.is_action_pressed("down"):
		actor.move(Actor.DIRECTION.South)
	elif event.is_action_pressed("left"):
		actor.move(Actor.DIRECTION.West)
	elif event.is_action_pressed("right"):
		actor.move(Actor.DIRECTION.East)

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------
func _GetPlayerActor() -> Actor:
	var actors : Array = get_tree().get_nodes_in_group(PLAYER_GROUP)
	for actor in actors:
		if actor is Actor:
			return actor
	return null

# ------------------------------------------------------------------------------
# Public Methods
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Handler Methods
# ------------------------------------------------------------------------------



